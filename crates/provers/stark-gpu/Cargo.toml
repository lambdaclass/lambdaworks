[package]
name = "lambdaworks-stark-gpu"
description = "GPU-accelerated STARK prover for lambdaworks"
version.workspace = true
edition.workspace = true
license.workspace = true

[dependencies]
lambdaworks-math = { workspace = true, features = ["std"] }
lambdaworks-crypto = { workspace = true, features = ["std"] }
lambdaworks-gpu = { workspace = true, optional = true }
stark-platinum-prover = { path = "../stark" }
thiserror = "1.0.38"
log = "0.4.17"

# Metal dependencies (macOS only)
metal = { version = "0.29", optional = true }
objc = { version = "0.2", optional = true }

[dev-dependencies]
rand = "0.8.5"

[features]
metal = ["dep:metal", "dep:objc", "dep:lambdaworks-gpu", "lambdaworks-gpu/metal", "lambdaworks-math/metal"]
cuda = ["dep:lambdaworks-gpu", "lambdaworks-gpu/cuda", "lambdaworks-math/cuda"]
default = []
